# 栈

## 概念

栈是一种遵从后进先出（LIFO）原则的有序集合，“后进先出”是指最先入栈的数据会最后出栈、最后入栈的数据会最先出栈。

举例来说，筒装的薯片只有一个开口，薯片只能从这一个开口进入，也只能从这一个开口离开，先入筒的薯片会被放在下面，后入筒的薯片会被放在上面，当我们要把薯片从筒中拿出来时，由于后入筒的薯片更靠近开口，所以后入筒的薯片会比先入筒的薯片更早出筒，而这就是后进先出，其中薯片筒代表栈，薯片代表数据。

事件循环的调用栈、浏览器的后退、编辑器的撤回就是使用栈这一数据结构来实现的。

## 实现基于数组的栈

我们将基于 JavaScript 的数组来实现栈这一数据结构，它将拥有下述方法：

| 名称  | 作用                                 |
| ----- | ------------------------------------ |
| push  | 向栈顶添加一个或多个元素，然后返回栈 |
| pop   | 从栈顶移除一个元素，然后返回这个元素 |
| clear | 清空栈，然后返回栈                   |
| peek  | 查询位于栈顶的元素                   |
| size  | 查询栈里的元素个数                   |

由于它的实现非常简单，所以我们直接来看它的实现代码吧。

```js
class Stack {
    
    #elements = [];
    
    constructor( ... elements ) {
        
        this.push( ... elements );
        
    }
    
	push( ... elements ) {
        
		this.size = this.#elements.push( ... elements );
        
        return this;
        
    }
    
    pop() {
       
        if ( this.size ) this.size --;

        return this.#elements.pop();
        
    }
    
    clear() {
        
		this.size = 0;
        
        return this.#elements = [];
        
    }
    
    peek() {
        
        return this.#elements.slice( - 1 )[ 0 ];
        
    }
    
}
```

## 实现基于对象的栈

我们将基于 JavaScript 的普通对象来实现栈这一数据结构，它拥有和上文所述一样的方法，由于它的实现也非常简单，所以我们直接来看它的实现代码吧。

```js
class Stack {

    #elements = {};
    
 	constructor( ... elements ) {
     
        this.size = 0;
        this.push( ... elements );
        
    }
    
    push( ... elements ) {
        
        elements.forEach( ( element, index ) => {
            
            this.#elements[ this.size + index ] = element;
            
        } );
        
        this.size += elements.length;
        
        return this;
        
    }
    
    pop() {

        if ( ! this.size ) return;
        
        this.size --;
        
		const element = this.#elements[ this.size ];

        delete this.#elements[ this.size ];
        
        return element;
        
    }
    
    clear() {
        
		this.size = 0;
        
        return this.#elements = {};
        
    }
    
    peek() {
        
        return this.#elements[ this.size - 1 ];
        
    }
    
}
```

## 用栈解决问题

### 十进制转二进制